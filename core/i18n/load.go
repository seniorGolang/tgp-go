// GENERATED BY 'T'ool 'G'ateway. DO NOT EDIT.
package i18n

import (
	"fmt"
	"io/fs"
	"strings"

	"github.com/goccy/go-json"

	"tgp/i18n"
)

var translations map[string]string

func init() {
	translations = make(map[string]string)
	langCode := GetLang()
	if langCode == langCodeEN {
		return
	}

	langFilePattern := fmt.Sprintf("%s.json", langCode)
	err := fs.WalkDir(i18n.TranslationsFS, ".", func(path string, d fs.DirEntry, err error) (walkErr error) {
		if err != nil {
			return err
		}
		if d.IsDir() {
			return nil
		}
		if !strings.HasSuffix(path, langFilePattern) {
			return nil
		}
		var langData []byte
		langData, walkErr = i18n.TranslationsFS.ReadFile(path)
		if walkErr != nil {
			return walkErr
		}
		var langTranslations map[string]string
		if walkErr = json.Unmarshal(langData, &langTranslations); walkErr != nil {
			return walkErr
		}
		for key, value := range langTranslations {
			translations[key] = value
		}
		return nil
	})
	if err != nil {
		return
	}
}
