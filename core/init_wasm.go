//go:build wasip1

// GENERATED BY 'T'ool 'G'ateway. DO NOT EDIT.
package core

import (
	nethttp "net/http"

	"tgp/core/http"

	"tgp/core/plugin"
	"tgp/core/wasm"
)

// InitPlugin инициализирует плагин.
func InitPlugin(p plugin.Plugin) {

	wasm.SetPluginInstance(p)
}

// init инициализирует core пакет для WASM окружения.
// Устанавливает дефолтный логгер и проверяет, что HTTP клиент установлен.
func init() {

	// Инициализируем slog с handler, использующим hostLog
	wasm.InitLogger()

	nethttp.DefaultClient = http.NewClient()
	nethttp.DefaultTransport = http.NewTransport()
}
